const num = Number(require('fs').readFileSync('input2.txt').toString());

// π”Ή Dynamic Programming (DP) κΈ°λ²•μ„ μ‚¬μ©ν•μ—¬ μµμ μ μ—°μ‚° νμλ¥Ό κµ¬ν•¨
// π”Ή μ‘μ€ μ«μμ μµμ ν•΄λ¥Ό λ¨Όμ € κ³„μ‚°ν• λ’¤, μ΄λ¥Ό ν™μ©ν•΄ λ” ν° μ«μμ μµμ ν•΄λ¥Ό κµ¬ν•λ” λ°©μ‹

// 1. 0λ¶€ν„° μ«μκΉμ§€ ν•΄λ‹Ήν•λ” λ°°μ—΄μ„ λ§λ“  ν›„ 0μ„ μ±„μ΄λ‹¤.
// μ΄ λ°°μ—΄μ€ κ° μ«μλ³„ μµλ‹¨κ±°λ¦¬λ¥Ό memoν•λ” κΈ°λ¥μΌλ΅ μ‚¬μ©λλ‹¤.
// e.g.) λ°°μ—΄μ 5λ² μΈλ±μ¤μ—μ„  μ«μ 5μ μµλ‹¨κ±°λ¦¬ μ €μ¥, λ°°μ—΄μ 6λ² μΈλ±μ¤μ—μ„  μ«μ 6μ μµλ‹¨κ±°λ¦¬ μ €μ¥

// 2. λ°°μ—΄μ„ 2λ¶€ν„° μνν•λ‹¤. (1μ€ μ–΄μ°¨ν”Ό κ°’μ΄ 0μ΄λ―€λ΅)

// 3. ν„μ¬ indexμ—μ„ λ‚μ¬ μ μλ” μµλ‹¨κ±°λ¦¬μ κ°€λ¥μ„±μ€
// λ°”λ΅ μ΄μ „ μΈλ±μ¤μ μµλ‹¨κ±°λ¦¬μ— + 1 / 2λ΅ λ‚λ μΈλ±μ¤μ μµλ‹¨κ±°λ¦¬μ— + 1 / 3μΌλ΅ λ‚λ μΈλ±μ¤λ΅ μ΄λ™μ μµλ‹¨κ±°λ¦¬μ— + 1
// μ„Έκ°€μ§€ κ²½μ°μ μκ°€ μμ.

// 4. 3μ—μ„ λ‚μ¨ μ„Έκ°€μ§€ κ²½μ°μ μ μ¤‘ κ°€μ¥ μ«μκ°€ μ‘μ€ κ°’μ„ ν„μ¬ indexμ— κΈ°λ΅

const dp = new Array(num + 1).fill(0);

for (let i = 2; i <= num; i++) {
  dp[i] = dp[i - 1] + 1;

  if (i % 2 === 0) {
    dp[i] = Math.min(dp[i / 2] + 1, dp[i]);
  }

  if (i % 3 === 0) {
    dp[i] = Math.min(dp[i / 3] + 1, dp[i]);
  }
}

console.log(dp[num]);

// BFSλ¥Ό μ„ν• ν (FIFO κµ¬μ΅° μ‚¬μ©)
// λ°©λ¬Έν•  nodeμ μμ„λ¥Ό queueμ— κΈ°λ΅ν•κ³ , λ¨Όμ € λ“¤μ–΄μ¨ λ…Έλ“λ¥Ό νƒμƒ‰
// queueμ— ν„μ¬ λ…Έλ“μ™€ sibling λ…Έλ“λ¥Ό λ‹΄μ•„λ‘κ³  μ „λ¶€ νƒμƒ‰
// λ°©λ¬Έν• nodeλ” λ°©λ¬Έμ²λ¦¬λ¥Ό κΈ°λ΅ν•κ³  λ‹¤μ‹ νƒμƒ‰ν•μ§€ μ•μ.
// stack κΈ°λ°μ΄κ³  ν•λ‚μ λ…Έλ“λ¥Ό λκΉμ§€ νκ³ λ“λ” DFSμ™€ λ°λ€ (FILO)

const queue = [{ value: num, count: 0 }];
const visited = new Set(); // λ°©λ¬Έν• μ«μλ¥Ό μ €μ¥

while (queue.length > 0) {
  const { value, count } = queue.shift(); // νμ—μ„ ν„μ¬ μ«μλ¥Ό κΊΌλƒ„

  // 1μ΄ λλ©΄ μµμ† μ—°μ‚° νμλ¥Ό μ¶λ ¥ν•κ³  μΆ…λ£
  if (value === 1) {
    console.log(count);
    break;
  }

  // λ°©λ¬Έν• μ«μμΈμ§€ μ²΄ν¬ (μ¤‘λ³µ λ°©λ¬Έ λ°©μ§€)
  if (!visited.has(value)) {
    visited.add(value);

    // μ—°μ‚° μν–‰ (-1, /2, /3)
    queue.push({ value: value - 1, count: count + 1 });

    if (value % 2 === 0) {
      queue.push({ value: value / 2, count: count + 1 });
    }

    if (value % 3 === 0) {
      queue.push({ value: value / 3, count: count + 1 });
    }
  }
}
